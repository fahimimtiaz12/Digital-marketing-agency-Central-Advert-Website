<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Demo Payment | Central Advert</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      background: #141516;
      color: #fff;
      font-family: 'Segoe UI', Arial, sans-serif;
      min-height: 100vh;
      margin: 0;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .payment-container {
      background: rgba(25,25,33,0.94);
      backdrop-filter: blur(6px);
      border-radius: 22px;
      box-shadow: 0 0 44px #00ffff33, 0 6px 30px #000a;
      display: flex;
      padding: 40px;
      gap: 60px;
      max-width: 650px;
      width: 100%;
    }
    .summary {
      flex: 1;
      border-radius: 18px;
      background: linear-gradient(145deg, #2b3341 40%, #202932 100%);
      box-shadow: 0 2px 18px #00ffd96e;
      padding: 28px;
    }
    .summary h2 { color: #0ff; margin-bottom: 18px; font-size: 1.3em;}
    .summary p { font-size: 1.1em; margin-bottom: 7px;}
    .summary .price { font-size: 1.5em; margin-top: 8px; color: #34d6be; font-weight: bold;}
    .payment-form {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 18px;
    }
    .card-icons {
      display: flex;
      gap: 12px;
      margin-bottom: 10px;
      justify-content: flex-start;
    }
    .card-icons img {
      height: 32px;
      width: auto;
      filter: drop-shadow(0 2px 8px #0ff3);
      border-radius: 7px;
      background: rgba(20,20,32,0.72);
      padding: 4px 5px;
      transition: transform 0.18s, opacity 0.2s, box-shadow 0.2s;
      opacity: 0.65;
      cursor: pointer;
      border: 2px solid transparent;
    }
    .card-icons img.selected {
      opacity: 1;
      transform: scale(1.12);
      box-shadow: 0 2px 18px #0ff7;
      border: 2px solid #0ff;
    }
    .input {
      background: #22252f;
      border: 1px solid #0ff2;
      color: #fff;
      padding: 14px;
      border-radius: 8px;
      font-size: 1.05em;
      outline: none;
      transition: border 0.2s;
    }
    .input:focus { border-color: #0ff; }
    .pay-btn {
      background: linear-gradient(90deg, #0ff 30%, #0373ff 100%);
      color: #222;
      border: none;
      padding: 15px;
      border-radius: 8px;
      box-shadow: 0 2px 16px #00ffea77;
      font-size: 1.2em;
      cursor: pointer;
      font-weight: bold;
      transition: background 0.22s;
    }
    .pay-btn:hover { background: linear-gradient(90deg, #0373ff 30%, #0ff 100%);}
    @media(max-width:700px){
      .payment-container { flex-direction: column; padding: 18px; gap: 18px;}
    }
    .modal {
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: rgba(0,255,255,0.13);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.4s;
    }
    .modal.show {
      opacity: 1;
      pointer-events: auto;
      animation: modalPop 0.6s cubic-bezier(.85,-0.02,.34,1.46);
    }
    @keyframes modalPop {
      0% { transform: scale(0.8); opacity: 0; }
      65% { transform: scale(1.05);}
      100% { transform: scale(1); opacity: 1;}
    }
    .modal-content {
      background: linear-gradient(135deg, #222b 80%, #0ff2 100%);
      color: #fff;
      border-radius: 32px;
      padding: 40px 32px 30px 32px;
      box-shadow: 0 6px 42px #00fffcdd, 0 2px 18px #0ff8;
      text-align: center;
      max-width: 350px;
      width: 95%;
      position: relative;
      opacity: 0;
      animation: fadeIn 1.2s forwards;
    }
    @keyframes fadeIn {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }

    .coupon-section {
  margin-top:20px;
  padding-bottom:16px;
  text-align:left;
  border-top:1px solid #222;
}

.coupon-label {
  color: #0ef;
  font-weight: 600;
  margin-bottom: 5px;
  font-size: 1.08em;
  display: block;
}

.coupon-row {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 8px;
}

.coupon-input {
  border-radius: 8px;
  width: 150px;
  border: 1px solid #0ef;
  background: #22252f;
  color: #fff;
  padding: 12px;
  font-size: 1em;
  box-shadow: none;
  transition: border 0.2s;
}

.coupon-input:focus {
  border-color: #0ef;
}

.coupon-btn {
  border-radius: 8px;
  padding: 12px 28px;
  font-size: 1em;
  font-weight: bold;
  background: linear-gradient(90deg, #0ff 30%, #0373ff 100%);
  color: #222;
  border: none;
  box-shadow: 0 2px 12px #0ff5, 0 2px 8px #00ffd983;
  cursor: pointer;
  transition: background 0.19s, box-shadow 0.19s;
}

.coupon-btn:hover {
  background: linear-gradient(90deg, #0373ff 30%, #0ff 100%);
  color: #fff;
  box-shadow: 0 2px 24px #0373ffbb, 0 2px 20px #0ffcd;
}

#couponMsg {
  margin-top: 8px;
  color: #34d6be;
  font-size: 1.03em;
}

    .checkmark {
      font-size: 4em;
      color: #0ff;
      margin-bottom: 16px;
      display: block;
      animation: bounceIn 1s;
    }
    @keyframes bounceIn {
      0% { transform: scale(0.3); opacity:0;}
      60% { transform: scale(1.05);}
      80% { transform: scale(0.97);}
      100% { transform: scale(1); opacity:1;}
    }
    .close-btn {
      position: absolute;
      top: 18px; right: 22px;
      background: none;
      border: none;
      font-size: 1.5em;
      color: #0ffb;
      cursor: pointer;
      opacity: 0.7;
      transition: opacity 0.2s;
    }
    .close-btn:hover { opacity:1;}
    .error-message { color: #ff8888; background: #322; padding: 7px 0 5px 0; border-radius: 8px; margin-bottom: -10px; font-size: 0.97em; display: none; text-align: left;}
    .extra-fields { background: #1b222f; border-radius: 8px; margin: 7px 0 0 0; box-shadow: 0 2px 12px #0ffc3a33; padding: 12px 16px 8px 16px; font-size: 1em; display: none;}
    .extra-label { color: #0ff; margin-bottom: 3px; font-size: 0.99em; font-weight: bold; display: block;}
    .coupon-section { margin-top:14px; padding-bottom:14px; text-align:center; border-top:1px solid #222;}
    .coupon-section input.input { width:120px; display:inline-block;}
    .coupon-section .pay-btn { padding:8px 18px; font-size:1em; margin-left:4px;}
    #couponMsg { margin-top:8px; color:#34d6be; }
  </style>
</head>
<body>
  <div class="payment-container">
    <div class="summary">
      <h2>Selected Plan</h2>
      <p id="plan-type">Professional</p>
      <div class="price" id="plan-price">$199</div>
      <p>Full SEO Setup<br>10 Social Posts<br>Ad Campaign & Support</p>
    </div>
    <form class="payment-form" id="payment-form" onsubmit="return submitDemo(event)">
      <div class="card-icons" id="card-icons">
        <img src="https://img.icons8.com/color/48/000000/visa.png" id="icon-visa" alt="Visa" data-brand="Visa" title="Visa">
        <img src="https://img.icons8.com/color/48/000000/mastercard.png" id="icon-mastercard" alt="MasterCard" data-brand="MasterCard" title="MasterCard">
        <img src="https://img.icons8.com/color/48/000000/amex.png" id="icon-amex" alt="American Express" data-brand="Amex" title="Amex">
        <img src="https://img.icons8.com/color/48/000000/discover.png" id="icon-discover" alt="Discover" data-brand="Discover" title="Discover">
      </div>
      <div class="error-message" id="card-error">Please select a card type!</div>
      <input class="input" type="text" placeholder="Cardholder Name" required>
      <input class="input card-number" type="text" placeholder="Card Number" maxlength="19" required>
      <input class="input" type="text" placeholder="MM/YY" maxlength="5" required>
      <input class="input" type="text" placeholder="CVV" maxlength="4" required>
      <div class="extra-fields" id="extra-visa">
        <span class="extra-label">Visa Issuing Bank</span>
        <input type="text" class="input" placeholder="Bank Name" />
      </div>
      <div class="extra-fields" id="extra-mastercard">
        <span class="extra-label">MasterCard Billing Address</span>
        <input type="text" class="input" placeholder="Billing Address" />
        <label><input type="checkbox" /> 3D Secure Verified</label>
      </div>
      <div class="extra-fields" id="extra-amex">
        <span class="extra-label">Amex Secure PIN</span>
        <input type="password" class="input" placeholder="4-digit PIN" maxlength="4" />
      </div>
      <div class="extra-fields" id="extra-discover">
        <span class="extra-label">Discover ID Number</span>
        <input type="text" class="input" placeholder="Customer ID" maxlength="8" />
      </div>
     <div class="coupon-section">
  <label for="couponCode" class="coupon-label">Coupon Code:</label>
  <div class="coupon-row">
    <input type="text" id="couponCode" class="input coupon-input">
    <button type="button" class="pay-btn coupon-btn" id="applyCouponBtn">Apply</button>
  </div>
  <div id="couponMsg"></div>
  <div style="margin-top:7px; color:#ccc;">
    Try: <span style="color:#0ef;">WELCOME10</span> (10% off), <span style="color:#0ef;">SAVE20</span> (20% off)
  </div>
</div>

      <button class="pay-btn" type="submit">Pay Now (Demo)</button>
    </form>
  </div>
  <div class="modal" id="modal">
    <div class="modal-content">
      <span class="checkmark">&#10003;</span>
      <h2 style="margin-bottom:10px;">Payment Complete!</h2>
      <p style="font-size:1.08em;opacity:0.85;">
        This is a demo â€” no actual payment was processed.
      </p>
      <button class="close-btn" onclick="closeModal()">&times;</button>
    </div>
  </div>
  <script>
    let selectedBrand = null;

    // Coupon logic
    const couponCodes = { "WELCOME10": 0.10, "SAVE20": 0.20 };
    document.getElementById("applyCouponBtn").onclick = function() {
      const code = document.getElementById("couponCode").value.trim().toUpperCase();
      const planPriceElem = document.getElementById("plan-price");
      const couponMsg = document.getElementById("couponMsg");
      let basePrice = 199; // Default Professional
      const planText = document.getElementById('plan-type').textContent.toLowerCase();
      if(planText === "starter") basePrice = 99;
      else if(planText === "enterprise") basePrice = 399;

      if (couponCodes[code]) {
        const discount = Math.round(basePrice * couponCodes[code]);
        const finalPrice = basePrice - discount;
        planPriceElem.textContent = `$${finalPrice}`;
        couponMsg.textContent = `Coupon applied! You saved $${discount}.`;
      } else if (code) {
        planPriceElem.textContent = `$${basePrice}`;
        couponMsg.textContent = "Invalid coupon code.";
      } else {
        planPriceElem.textContent = `$${basePrice}`;
        couponMsg.textContent = "";
      }
    };

    // Show/hide extra fields
    function showExtraFields(brand) {
      ['extra-visa','extra-mastercard','extra-amex','extra-discover'].forEach(id => {
        document.getElementById(id).style.display='none';
      });
      if(!brand) return;
      if(brand==='Visa') document.getElementById('extra-visa').style.display='block';
      else if(brand==='MasterCard') document.getElementById('extra-mastercard').style.display='block';
      else if(brand==='Amex') document.getElementById('extra-amex').style.display='block';
      else if(brand==='Discover') document.getElementById('extra-discover').style.display='block';
    }

    document.querySelectorAll('.card-icons img').forEach(function(icon) {
      icon.addEventListener('click', function() {
        document.querySelectorAll('.card-icons img').forEach(i => i.classList.remove('selected'));
        this.classList.add('selected');
        selectedBrand = this.getAttribute('data-brand');
        document.getElementById('card-error').style.display = 'none';
        showExtraFields(selectedBrand);
      });
    });

    document.querySelector('.card-number').addEventListener('input', function(e){
      let val = e.target.value.replace(/\s+/g,'');
      let icons = document.querySelectorAll('.card-icons img');
      let autoBrand = null;
      icons.forEach(i => i.classList.remove('selected'));

      if(/^4/.test(val)) { document.getElementById('icon-visa').classList.add('selected'); autoBrand = 'Visa'; }
      else if(/^5/.test(val)) { document.getElementById('icon-mastercard').classList.add('selected'); autoBrand = 'MasterCard'; }
      else if(/^3[47]/.test(val)) { document.getElementById('icon-amex').classList.add('selected'); autoBrand = 'Amex'; }
      else if(/^6/.test(val)) { document.getElementById('icon-discover').classList.add('selected'); autoBrand = 'Discover'; }
      selectedBrand = autoBrand;
      document.getElementById('card-error').style.display = 'none';
      showExtraFields(selectedBrand);
    });

    function submitDemo(e){
      e.preventDefault();
      if(!selectedBrand){
        document.getElementById('card-error').style.display = 'block';
        return false;
      }
      document.getElementById('modal').classList.add('show');
      setTimeout(closeModal, 3500);
      return false;
    }
    function closeModal(){
      const plan = document.getElementById('plan-type').textContent.toLowerCase();
      window.location.href = `index.html?plan=${encodeURIComponent(plan)}`;
    }

    // Get plan info from URL
    const urlParams = new URLSearchParams(window.location.search);
    let plan = urlParams.get('plan');
    if(plan){
      document.getElementById('plan-type').textContent = plan.charAt(0).toUpperCase()+plan.slice(1);
      document.getElementById('plan-price').textContent =
        plan === 'starter' ? '$99' : (plan === 'enterprise' ? '$399' : '$199');
    }
  </script>
</body>
</html>
